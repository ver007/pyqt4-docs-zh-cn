<html>
<head>
<title>QDrag Class Reference</title>
<style>h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
td.postheader { font-family: sans-serif }
tr.address { font-family: sans-serif }
body { background: #ffffff; color: black; }
</style>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr></tr>
<td align="left" valign="top" width="32"><img align="left" border="0" height="32" src="images/rb-logo.png" tppabs="http://pyqt4doc.appspot.com/images/rb-logo.png" width="32"></td>
<td width="1">  </td>
<td class="postheader" valign="center">
<a href="index.html" tppabs="http://pyqt4doc.appspot.com/index.html"><font color="#004faf">Home</font></a> · <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/classes.html"><font color="#004faf">All Classes</font></a> · <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/modules.html"><font color="#004faf">Modules</font></a>  · <a href="qss.html"><font color="#004faf">QSS HELP</font></a>  · <a href="qtqss.html"><font color="#004faf">QSS 案例</font></a> · <a href="HTTP://VER007.COM"><font color="#004faf">VER007 HOME</font></a> 
</td>
</table>
<h1 align="center">QDrag Class Reference<br><sup><sup>[<a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qtgui.html">QtGui</a> module]</sup></sup>
</h1>
<p>该QDrag类提供了基于MIME的拖放支持拖放的数据传输。<a href="#details">More...</a></p>

<p>继承<a href="qobject.html" tppabs="http://pyqt4doc.appspot.com/qobject.html">QObject</a>。</p>
<h3>Methods</h3>
<ul>
<li>
<div class="fn"></div>
<b><a href="qdrag.html#QDrag" tppabs="http://pyqt4doc.appspot.com/qdrag.html#QDrag">__init__</a></b> (<i>self</i>, QWidget <i>dragSource</i>)</li>
<li>
<div class="fn"></div>Qt.DropAction <b><a href="qdrag.html#exec" tppabs="http://pyqt4doc.appspot.com/qdrag.html#exec">exec</a></b> (<i>self</i>, Qt.DropActions <i>supportedActions</i>, Qt.DropAction <i>defaultDropAction</i>)</li>
<li>
<div class="fn"></div>Qt.DropAction <b><a href="qdrag.html#exec" tppabs="http://pyqt4doc.appspot.com/qdrag.html#exec">exec_</a></b> (<i>self</i>, Qt.DropActions <i>supportedActions</i> = Qt.MoveAction)</li>
<li>
<div class="fn"></div>Qt.DropAction <b><a href="qdrag.html#exec-2" tppabs="http://pyqt4doc.appspot.com/qdrag.html#exec-2">exec_</a></b> (<i>self</i>, Qt.DropActions <i>supportedActions</i>, Qt.DropAction <i>defaultDropAction</i>)</li>
<li>
<div class="fn"></div>QPoint <b><a href="qdrag.html#hotSpot" tppabs="http://pyqt4doc.appspot.com/qdrag.html#hotSpot">hotSpot</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>QMimeData <b><a href="qdrag.html#mimeData" tppabs="http://pyqt4doc.appspot.com/qdrag.html#mimeData">mimeData</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>QPixmap <b><a href="qdrag.html#pixmap" tppabs="http://pyqt4doc.appspot.com/qdrag.html#pixmap">pixmap</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qdrag.html#setDragCursor" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setDragCursor">setDragCursor</a></b> (<i>self</i>, QPixmap <i>cursor</i>, Qt.DropAction <i>action</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qdrag.html#setHotSpot" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setHotSpot">setHotSpot</a></b> (<i>self</i>, QPoint <i>hotspot</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qdrag.html#setMimeData" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setMimeData">setMimeData</a></b> (<i>self</i>, QMimeData <i>data</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qdrag.html#setPixmap" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setPixmap">setPixmap</a></b> (<i>self</i>, QPixmap)</li>
<li>
<div class="fn"></div>QWidget <b><a href="qdrag.html#source" tppabs="http://pyqt4doc.appspot.com/qdrag.html#source">source</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>Qt.DropAction <b><a href="qdrag.html#start" tppabs="http://pyqt4doc.appspot.com/qdrag.html#start">start</a></b> (<i>self</i>, Qt.DropActions <i>supportedActions</i> = Qt.CopyAction)</li>
<li>
<div class="fn"></div>QWidget <b><a href="qdrag.html#target" tppabs="http://pyqt4doc.appspot.com/qdrag.html#target">target</a></b> (<i>self</i>)</li>
</ul>
<h3>Qt Signals</h3>
<ul>
<li>
<div class="fn"></div>void <b><a href="qdrag.html#actionChanged" tppabs="http://pyqt4doc.appspot.com/qdrag.html#actionChanged">actionChanged</a></b> (Qt::DropAction)</li>
<li>
<div class="fn"></div>void <b><a href="qdrag.html#targetChanged" tppabs="http://pyqt4doc.appspot.com/qdrag.html#targetChanged">targetChanged</a></b> (QWidget *)</li>
</ul>
<a name="details"></a><div class="ad">
<hr>
 
</div>
<h2>Detailed Description</h2>
<p>该QDrag类提供了基于MIME的拖放支持拖放的数据传输。</p>
<p>拖放是一种直观的方式为用户在应用程序中各地复制或移动数据，并且被用在许多桌面环境作为一种机制来复制应用程序之间的数据。拖动和Qt中的拖放支持是围绕该处理大部分的拖放操作的细节QDrag类。</p>
<p>通过拖放操作要传输的数据被包含在一个<a href="qmimedata.html" tppabs="http://pyqt4doc.appspot.com/qmimedata.html">QMimeData</a>对象。这是指定的<a href="qdrag.html#setMimeData" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setMimeData">setMimeData</a>（）函数以下面的方式：</p>
<pre class="cpp">
         <span class="type">QDrag</span> <span class="operator">*</span>drag <span class="operator">=</span> <span class="keyword">new</span> <span class="type">QDrag</span>(<span class="keyword">this</span>);
         <span class="type"><a href="qmimedata.html" tppabs="http://pyqt4doc.appspot.com/qmimedata.html">QMimeData</a></span> <span class="operator">*</span>mimeData <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qmimedata.html" tppabs="http://pyqt4doc.appspot.com/qmimedata.html">QMimeData</a></span>;

         mimeData<span class="operator">-</span><span class="operator">&gt;</span>setText(commentEdit<span class="operator">-</span><span class="operator">&gt;</span>toPlainText());
         drag<span class="operator">-</span><span class="operator">&gt;</span>setMimeData(mimeData);
</pre>
<p>需要注意的是<a href="qdrag.html#setMimeData" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setMimeData">setMimeData</a>（ ）分配的所有权<a href="qmimedata.html" tppabs="http://pyqt4doc.appspot.com/qmimedata.html">QMimeData</a>反对QDrag对象。该QDrag必须在堆上与父构造<a href="qwidget.html" tppabs="http://pyqt4doc.appspot.com/qwidget.html">QWidget</a>确保Qt可以拖动后清理和删除操作已经完成。</p>
<p>一个像素图可以用来表示数据，而拖动操作正在进行，并将光标移动到放置目标。这个像素图通常显示一个图标，表示该MIME类型正在传送的数据的，但任何像素映像可以被设置<a href="qdrag.html#setPixmap" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setPixmap">setPixmap</a>（ ） 。光标的热点可以给出相对位置一个与该像素图的左上角<a href="qdrag.html#setHotSpot" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setHotSpot">setHotSpot</a>（）函数。下面的代码位置的像素图，使光标的热点点，其底边的中心：</p>
<pre class="cpp">
     drag<span class="operator">-</span><span class="operator">&gt;</span>setHotSpot(<span class="type"><a href="qpoint.html" tppabs="http://pyqt4doc.appspot.com/qpoint.html">QPoint</a></span>(drag<span class="operator">-</span><span class="operator">&gt;</span>pixmap()<span class="operator">.</span>width()<span class="operator">/</span><span class="number">2</span><span class="operator">,</span>
                             drag<span class="operator">-</span><span class="operator">&gt;</span>pixmap()<span class="operator">.</span>height()));
</pre>
<p><b>Note:</b>在X11上，像素图可能无法跟上鼠标移动，如果热点直接导致光标下要显示的像素图。</p>
<p>源和目标部件可与发现<a href="qdrag.html#source" tppabs="http://pyqt4doc.appspot.com/qdrag.html#source">source</a>（）和<a href="qdrag.html#target" tppabs="http://pyqt4doc.appspot.com/qdrag.html#target">target</a>（ ） 。这些功能通常是用来确定是否拖放操作开始和结束于相同的部件，因此，特殊的行为可以被实现。</p>
<p>QDrag只处理拖放操作本身。它是由开发人员来决定拖动操作开始时，以及如何QDrag对象应该被构建和使用。对于给定窗口小部件，它通常需要重新实现<a href="qwidget.html#mousePressEvent" tppabs="http://pyqt4doc.appspot.com/qwidget.html#mousePressEvent">mousePressEvent()</a>确定用户是否按下鼠标按钮，并重新实现<a href="qwidget.html#mouseMoveEvent" tppabs="http://pyqt4doc.appspot.com/qwidget.html#mouseMoveEvent">mouseMoveEvent()</a>检查一个QDrag是否是必需的。</p>
<hr>
<h2>Method Documentation</h2>
<h3 class="fn">
<a name="QDrag"></a>QDrag.__init__ (<i>self</i>, <a href="qwidget.html" tppabs="http://pyqt4doc.appspot.com/qwidget.html">QWidget</a> <i>dragSource</i>)</h3>
<p>该<i>dragSource</i>的说法，如果不是没有，原因<i>self</i>通过Qt的，而不是PyQt的拥有。</p>
<p>构造一个新的拖动对象通过指定的窗口小部件<i>dragSource</i>。</p>


<h3 class="fn">
<a name="exec"></a><a href="qt.html#DropAction-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#DropAction-enum">Qt.DropAction</a> QDrag.exec (<i>self</i>, <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qt-dropactions.html">Qt.DropActions</a> <i>supportedActions</i>, <a href="qt.html#DropAction-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#DropAction-enum">Qt.DropAction</a> <i>defaultDropAction</i>)</h3>
<p>开始拖放操作，并返回一个值，指示请求的拖放操作何时完成。下拉的动作，用户可以选择在指定<i>supportedActions</i>。默认建议的行动会按以下顺序允许的动作中进行选择：移动，复制和链接。</p>
<p><b>Note:</b>在Linux和Mac OS X上，拖放操作可能需要一些时间，但这个功能不会阻止事件循环。其他事件仍传送到应用程序，同时执行操作。在Windows上， Qt的事件循环的操作过程中受阻时。</p>
<p>此功能被引入Qt的4.3 。</p>


<h3 class="fn">
<a name="exec"></a><a href="qt.html#DropAction-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#DropAction-enum">Qt.DropAction</a> QDrag.exec_ (<i>self</i>, <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qt-dropactions.html">Qt.DropActions</a> <i>supportedActions</i> = Qt.MoveAction)</h3>
<p>开始拖放操作，并返回一个值，指示请求的拖放操作何时完成。下拉的动作，用户可以选择在指定<i>supportedActions</i>。默认建议的行动会按以下顺序允许的动作中进行选择：移动，复制和链接。</p>
<p><b>Note:</b>在Linux和Mac OS X上，拖放操作可能需要一些时间，但这个功能不会阻止事件循环。其他事件仍传送到应用程序，同时执行操作。在Windows上， Qt的事件循环的操作过程中受阻时。</p>
<p>此功能被引入Qt的4.3 。</p>


<h3 class="fn">
<a name="exec-2"></a><a href="qt.html#DropAction-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#DropAction-enum">Qt.DropAction</a> QDrag.exec_ (<i>self</i>, <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qt-dropactions.html">Qt.DropActions</a> <i>supportedActions</i>, <a href="qt.html#DropAction-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#DropAction-enum">Qt.DropAction</a> <i>defaultDropAction</i>)</h3>
<p>开始拖放操作，并返回一个值，指示请求的拖放操作何时完成。下拉的动作，用户可以选择在指定<i>supportedActions</i>。</p>
<p>该<i>defaultDropAction</i>决定当用户执行一拖而不使用组合键的操作将被提出。</p>
<p><b>Note:</b>在Linux和Mac OS X上，拖放操作可能需要一些时间，但这个功能不会阻止事件循环。其他事件仍传送到应用程序，同时执行操作。在Windows上， Qt的事件循环的操作过程中受阻。但是，<a href="qdrag.html#exec" tppabs="http://pyqt4doc.appspot.com/qdrag.html#exec">QDrag.exec</a>（ ）在Windows上导致processEvents （ ）被频繁调用，以保证GUI作出响应。如果有任何循环或操作被调用，而拖动操作是积极的，它会阻止拖动操作。</p>
<p>此功能被引入Qt的4.3 。</p>


<h3 class="fn">
<a name="hotSpot"></a><a href="qpoint.html" tppabs="http://pyqt4doc.appspot.com/qpoint.html">QPoint</a> QDrag.hotSpot (<i>self</i>)</h3>
<p>返回到光标的左上角相对于热点的位置。</p>
<p><b>See also</b> <a href="qdrag.html#setHotSpot" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setHotSpot">setHotSpot</a>（ ） 。</p>


<h3 class="fn">
<a name="mimeData"></a><a href="qmimedata.html" tppabs="http://pyqt4doc.appspot.com/qmimedata.html">QMimeData</a> QDrag.mimeData (<i>self</i>)</h3>
<p>返回由所述拖动对象所封装的MIME数据。</p>
<p><b>See also</b> <a href="qdrag.html#setMimeData" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setMimeData">setMimeData</a>（ ） 。</p>


<h3 class="fn">
<a name="pixmap"></a><a href="qpixmap.html" tppabs="http://pyqt4doc.appspot.com/qpixmap.html">QPixmap</a> QDrag.pixmap (<i>self</i>)</h3>
<p>返回用于表示在拖动的数据拖放操作的像素图。</p>
<p><b>See also</b> <a href="qdrag.html#setPixmap" tppabs="http://pyqt4doc.appspot.com/qdrag.html#setPixmap">setPixmap</a>（ ） 。</p>


<h3 class="fn">
<a name="setDragCursor"></a>QDrag.setDragCursor (<i>self</i>, <a href="qpixmap.html" tppabs="http://pyqt4doc.appspot.com/qpixmap.html">QPixmap</a> <i>cursor</i>, <a href="qt.html#DropAction-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#DropAction-enum">Qt.DropAction</a> <i>action</i>)</h3>
<p>设置拖动<i>cursor</i>为<i>action</i>。这使您可以复盖默认的本地游标。要恢复到使用本地光标<i>action</i>传递一个空<a href="qpixmap.html" tppabs="http://pyqt4doc.appspot.com/qpixmap.html">QPixmap</a>如<i>cursor</i>。</p>
<p>该<i>action</i>只能是CopyAction ， MoveAction或LinkAction 。 DropAction的所有其他值将被忽略。</p>


<h3 class="fn">
<a name="setHotSpot"></a>QDrag.setHotSpot (<i>self</i>, <a href="qpoint.html" tppabs="http://pyqt4doc.appspot.com/qpoint.html">QPoint</a> <i>hotspot</i>)</h3>
<p>设定相对于热点的位置，以用于通过指定的点的像素图的左上角<i>hotspot</i>。</p>
<p><b>Note:</b>在X11上，像素图可能无法跟上鼠标移动，如果热点直接导致光标下要显示的像素图。</p>
<p><b>See also</b> <a href="qdrag.html#hotSpot" tppabs="http://pyqt4doc.appspot.com/qdrag.html#hotSpot">hotSpot</a>（ ） 。</p>


<h3 class="fn">
<a name="setMimeData"></a>QDrag.setMimeData (<i>self</i>, <a href="qmimedata.html" tppabs="http://pyqt4doc.appspot.com/qmimedata.html">QMimeData</a> <i>data</i>)</h3>
<p>该<i>data</i>说法有它的所有权转移给Qt的。</p>
<p>设置要发送到给定的MIME数据<i>data</i>。该数据的所有权被转移到<a href="qdrag.html" tppabs="http://pyqt4doc.appspot.com/qdrag.html">QDrag</a>对象。</p>
<p><b>See also</b> <a href="qdrag.html#mimeData" tppabs="http://pyqt4doc.appspot.com/qdrag.html#mimeData">mimeData</a>（ ） 。</p>


<h3 class="fn">
<a name="setPixmap"></a>QDrag.setPixmap (<i>self</i>, <a href="qpixmap.html" tppabs="http://pyqt4doc.appspot.com/qpixmap.html">QPixmap</a>)</h3>
<p>Sets <i>pixmap</i>作为像素图用来表示在一个拖动数据拖放操作。你可以拖动操作开始之前，只设置一个像素图。</p>
<p><b>See also</b> <a href="qdrag.html#pixmap" tppabs="http://pyqt4doc.appspot.com/qdrag.html#pixmap">pixmap</a>（ ） 。</p>


<h3 class="fn">
<a name="source"></a><a href="qwidget.html" tppabs="http://pyqt4doc.appspot.com/qwidget.html">QWidget</a> QDrag.source (<i>self</i>)</h3>
<p>返回拖动对象的源。这是其中的拖放操作起源的部件。</p>


<h3 class="fn">
<a name="start"></a><a href="qt.html#DropAction-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#DropAction-enum">Qt.DropAction</a> QDrag.start (<i>self</i>, <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qt-dropactions.html">Qt.DropActions</a> <i>supportedActions</i> = Qt.CopyAction)</h3>
<h3 class="fn">
<a name="target"></a><a href="qwidget.html" tppabs="http://pyqt4doc.appspot.com/qwidget.html">QWidget</a> QDrag.target (<i>self</i>)</h3>
<p>返回拖放操作的目标。这是一个小部件，这是拖动物体跌。</p>


<hr>
<h2>Qt Signal Documentation</h2>
<h3 class="fn">
<a name="actionChanged"></a>void actionChanged (Qt::DropAction)</h3>
<p>这是该信号的默认超载。</p>
<p>这个信号被发射时的<i>action</i>与拖变化有关。</p>
<p><b>See also</b> <a href="qdrag.html#targetChanged" tppabs="http://pyqt4doc.appspot.com/qdrag.html#targetChanged">targetChanged</a>（ ） 。</p>


<h3 class="fn">
<a name="targetChanged"></a>void targetChanged (QWidget *)</h3>
<p>这是该信号的默认超载。</p>
<p>这个信号被发射时的拖放操作改变目标，以<i>newTarget</i>新的目标。</p>
<p><b>See also</b> <a href="qdrag.html#target" tppabs="http://pyqt4doc.appspot.com/qdrag.html#target">target</a>（）和<a href="qdrag.html#actionChanged" tppabs="http://pyqt4doc.appspot.com/qdrag.html#actionChanged">actionChanged</a>（ ） 。</p>
<address>
<div class="ad">
<br> 
<br><hr>
</div>
<div align="center"><table border="0" cellspacing="0" width="100%"><tr class="address">
<td align="left" width="25%">PyQt 4.10.3 for X11</td>
<td align="center" width="50%">Copyright © <a href="http://www.riverbankcomputing.com/">Riverbank Computing Ltd</a> and <a href="http://www.qtsoftware.com/">Nokia</a> 2012</td>
<td align="right" width="25%">Qt 4.8.5</td>
</tr></table></div>
</address>
</body>
</html>