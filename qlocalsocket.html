<html>
<head>
<title>QLocalSocket Class Reference</title>
<style>h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
td.postheader { font-family: sans-serif }
tr.address { font-family: sans-serif }
body { background: #ffffff; color: black; }
</style>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr></tr>
<td align="left" valign="top" width="32"><img align="left" border="0" height="32" src="images/rb-logo.png" tppabs="http://pyqt4doc.appspot.com/images/rb-logo.png" width="32"></td>
<td width="1">  </td>
<td class="postheader" valign="center">
<a href="index.html" tppabs="http://pyqt4doc.appspot.com/index.html"><font color="#004faf">Home</font></a> · <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/classes.html"><font color="#004faf">All Classes</font></a> · <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/modules.html"><font color="#004faf">Modules</font></a>  · <a href="qss.html"><font color="#004faf">QSS HELP</font></a>  · <a href="qtqss.html"><font color="#004faf">QSS 案例</font></a> · <a href="HTTP://VER007.COM"><font color="#004faf">VER007 HOME</font></a> 
</td>
</table>
<h1 align="center">QLocalSocket Class Reference<br><sup><sup>[<a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qtnetwork.html">QtNetwork</a> module]</sup></sup>
</h1>
<p>该QLocalSocket类提供了一个本地套接字。<a href="#details">More...</a></p>

<p>继承<a href="qiodevice.html" tppabs="http://pyqt4doc.appspot.com/qiodevice.html">QIODevice</a>。</p>
<h3>Types</h3>
<ul>
<li>
<div class="fn"></div>enum <b><a href="qlocalsocket.html#LocalSocketError-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketError-enum">LocalSocketError</a></b> { ConnectionRefusedError, PeerClosedError, ServerNotFoundError, SocketAccessError, ..., UnknownSocketError }</li>
<li>
<div class="fn"></div>enum <b><a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">LocalSocketState</a></b> { UnconnectedState, ConnectingState, ConnectedState, ClosingState }</li>
</ul>
<h3>Methods</h3>
<ul>
<li>
<div class="fn"></div>
<b><a href="qlocalsocket.html#QLocalSocket" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#QLocalSocket">__init__</a></b> (<i>self</i>, QObject <i>parent</i> = None)</li>
<li>
<div class="fn"></div>
<b><a href="qlocalsocket.html#abort" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#abort">abort</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>int <b><a href="qlocalsocket.html#bytesAvailable" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#bytesAvailable">bytesAvailable</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>int <b><a href="qlocalsocket.html#bytesToWrite" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#bytesToWrite">bytesToWrite</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#canReadLine" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#canReadLine">canReadLine</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qlocalsocket.html#close" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#close">close</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a></b> (<i>self</i>, QString <i>name</i>, QIODevice.OpenMode <i>mode</i> = QIODevice.ReadWrite)</li>
<li>
<div class="fn"></div>
<b><a href="qlocalsocket.html#disconnectFromServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#disconnectFromServer">disconnectFromServer</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>LocalSocketError <b><a href="qlocalsocket.html#error" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#error">error</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#flush" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#flush">flush</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>QString <b><a href="qlocalsocket.html#fullServerName" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#fullServerName">fullServerName</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#isSequential" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#isSequential">isSequential</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#isValid" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#isValid">isValid</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>int <b><a href="qlocalsocket.html#readBufferSize" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#readBufferSize">readBufferSize</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>str <b><a href="qlocalsocket.html#readData" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#readData">readData</a></b> (<i>self</i>, int <i>maxlen</i>)</li>
<li>
<div class="fn"></div>QString <b><a href="qlocalsocket.html#serverName" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#serverName">serverName</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qlocalsocket.html#setReadBufferSize" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#setReadBufferSize">setReadBufferSize</a></b> (<i>self</i>, int <i>size</i>)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#setSocketDescriptor" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#setSocketDescriptor">setSocketDescriptor</a></b> (<i>self</i>, sip.voidptr <i>socketDescriptor</i>, LocalSocketState <i>state</i> = QLocalSocket.ConnectedState, QIODevice.OpenMode <i>mode</i> = QIODevice.ReadWrite)</li>
<li>
<div class="fn"></div>sip.voidptr <b><a href="qlocalsocket.html#socketDescriptor" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#socketDescriptor">socketDescriptor</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>LocalSocketState <b><a href="qlocalsocket.html#state" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#state">state</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#waitForBytesWritten" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForBytesWritten">waitForBytesWritten</a></b> (<i>self</i>, int <i>msecs</i> = 30000)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#waitForConnected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForConnected">waitForConnected</a></b> (<i>self</i>, int <i>msecs</i> = 30000)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#waitForDisconnected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForDisconnected">waitForDisconnected</a></b> (<i>self</i>, int <i>msecs</i> = 30000)</li>
<li>
<div class="fn"></div>bool <b><a href="qlocalsocket.html#waitForReadyRead" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForReadyRead">waitForReadyRead</a></b> (<i>self</i>, int <i>msecs</i> = 30000)</li>
<li>
<div class="fn"></div>int <b><a href="qlocalsocket.html#writeData" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#writeData">writeData</a></b> (<i>self</i>, str)</li>
</ul>
<h3>Qt Signals</h3>
<ul>
<li>
<div class="fn"></div>void <b><a href="qlocalsocket.html#connected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connected">connected</a></b> ()</li>
<li>
<div class="fn"></div>void <b><a href="qlocalsocket.html#disconnected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#disconnected">disconnected</a></b> ()</li>
<li>
<div class="fn"></div>void <b><a href="qlocalsocket.html#error-2" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#error-2">error</a></b> (QLocalSocket::LocalSocketError)</li>
<li>
<div class="fn"></div>void <b><a href="qlocalsocket.html#stateChanged" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#stateChanged">stateChanged</a></b> (QLocalSocket::LocalSocketState)</li>
</ul>
<a name="details"></a><div class="ad">
<hr>
 
</div>
<h2>Detailed Description</h2>
<p>该QLocalSocket类提供了一个本地套接字。</p>
<p>在Windows上，这是一个命名管道，并在Unix上，这是一个本地的域套接字。</p>
<p>如果发生错误， socketError （）返回的错误的类型，并且<a href="qiodevice.html#errorString" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#errorString">errorString</a>（ ）可以被调用来获取发生了什么可读的描述。</p>
<p>虽然QLocalSocket是专为一个事件循环使用，它可以使用它没有之一。在这种情况下，您必须使用<a href="qlocalsocket.html#waitForConnected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForConnected">waitForConnected</a>（ ）<a href="qlocalsocket.html#waitForReadyRead" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForReadyRead">waitForReadyRead</a>（ ）<a href="qlocalsocket.html#waitForBytesWritten" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForBytesWritten">waitForBytesWritten</a>（）和<a href="qlocalsocket.html#waitForDisconnected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForDisconnected">waitForDisconnected</a>（），它会阻塞，直到操作完成或超时期满。</p>
<p>请注意，此功能不支持的Windows版本早于Windows XP 。</p>
<hr>
<h2>Type Documentation</h2>
<h3 class="fn">
<a name="LocalSocketError-enum"></a>QLocalSocket.LocalSocketError</h3>
<p>该LocalServerError枚举表示可能发生的错误。可以通过调用来检索最新的错误<a href="qlocalsocket.html#error" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#error">QLocalSocket.error</a>（ ） 。</p>
<table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tblval">Value</th>
<th class="tbldscr">Description</th>
</tr>
<tr>
<td class="topAlign">
<tt>QLocalSocket.ConnectionRefusedError</tt>
</td>
<td class="topAlign">
<tt>QAbstractSocket.ConnectionRefusedError</tt>
</td>
<td class="topAlign">连接被对等（或超时）拒绝。</td>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.PeerClosedError</tt></td>
<td class="topAlign">
<tt>QAbstractSocket.RemoteHostClosedError</tt>
</td>
<td class="topAlign">远程套接字关闭了连接。请注意，客户端套接字（也就是该套接字）远程关闭通知发出后将会关闭。</td>
</tr>
<tr>
<td class="topAlign">
<tt>QLocalSocket.ServerNotFoundError</tt>
</td>
<td class="topAlign">
<tt>QAbstractSocket.HostNotFoundError</tt>
</td>
<td class="topAlign">本地套接字名未找到。</td>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.SocketAccessError</tt></td>
<td class="topAlign">
<tt>QAbstractSocket.SocketAccessError</tt>
</td>
<td class="topAlign">套接字操作失败，因为该应用程序缺乏必要的特权。</td>
</tr>
<tr>
<td class="topAlign">
<tt>QLocalSocket.SocketResourceError</tt>
</td>
<td class="topAlign">
<tt>QAbstractSocket.SocketResourceError</tt>
</td>
<td class="topAlign">本地系统跑出来的资源（例如，太多的套接字）的。</td>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.SocketTimeoutError</tt></td>
<td class="topAlign">
<tt>QAbstractSocket.SocketTimeoutError</tt>
</td>
<td class="topAlign">套接字操作超时。</td>
</tr>
<tr>
<td class="topAlign">
<tt>QLocalSocket.DatagramTooLargeError</tt>
</td>
<td class="topAlign">
<tt>QAbstractSocket.DatagramTooLargeError</tt>
</td>
<td class="topAlign">数据报比操作系统的限制（其可以是低至8192字节）大。</td>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.ConnectionError</tt></td>
<td class="topAlign"><tt>QAbstractSocket.NetworkError</tt></td>
<td class="topAlign">与连接时出错。</td>
</tr>
<tr>
<td class="topAlign">
<tt>QLocalSocket.UnsupportedSocketOperationError</tt>
</td>
<td class="topAlign">
<tt>QAbstractSocket.UnsupportedSocketOperationError</tt>
</td>
<td class="topAlign">不是由本地操作系统支持请求的套接字操作。</td>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.UnknownSocketError</tt></td>
<td class="topAlign">
<tt>QAbstractSocket.UnknownSocketError</tt>
</td>
<td class="topAlign">发生不明的错误。</td>
</tr>
</table>


<h3 class="fn">
<a name="LocalSocketState-enum"></a>QLocalSocket.LocalSocketState</h3>
<p>这个枚举变量描述了不同的状态，其中一个插座即可。</p>
<table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tblval">Value</th>
<th class="tbldscr">Description</th>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.UnconnectedState</tt></td>
<td class="topAlign">
<tt>QAbstractSocket.UnconnectedState</tt>
</td>
<td class="topAlign">该套接字没有连接。</td>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.ConnectingState</tt></td>
<td class="topAlign"><tt>QAbstractSocket.ConnectingState</tt></td>
<td class="topAlign">插座已经开始建立连接。</td>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.ConnectedState</tt></td>
<td class="topAlign"><tt>QAbstractSocket.ConnectedState</tt></td>
<td class="topAlign">连接建立。</td>
</tr>
<tr>
<td class="topAlign"><tt>QLocalSocket.ClosingState</tt></td>
<td class="topAlign"><tt>QAbstractSocket.ClosingState</tt></td>
<td class="topAlign">该插座是即将关闭（数据仍可能等待写入） 。</td>
</tr>
</table>
<p><b>See also</b> <a href="qlocalsocket.html#state" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#state">QLocalSocket.state</a>（ ） 。</p>
<hr>
<h2>Method Documentation</h2>
<h3 class="fn">
<a name="QLocalSocket"></a>QLocalSocket.__init__ (<i>self</i>, <a href="qobject.html" tppabs="http://pyqt4doc.appspot.com/qobject.html">QObject</a> <i>parent</i> = None)</h3>
<p>该<i>parent</i>的说法，如果不是没有，原因<i>self</i>通过Qt的，而不是PyQt的拥有。</p>
<p>创建一个新的本地套接字。该<i>parent</i>参数被传递给<a href="qobject.html" tppabs="http://pyqt4doc.appspot.com/qobject.html">QObject</a>的构造。</p>


<h3 class="fn">
<a name="abort"></a>QLocalSocket.abort (<i>self</i>)</h3>
<p>中止当前连接并重置插口。不像<a href="qlocalsocket.html#disconnectFromServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#disconnectFromServer">disconnectFromServer</a>（ ） ，这个函数立即关闭套接字，写缓冲区清除任何挂起的数据。</p>
<p><b>See also</b> <a href="qlocalsocket.html#disconnectFromServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#disconnectFromServer">disconnectFromServer</a>（）和<a href="qlocalsocket.html#close" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#close">close</a>（ ） 。</p>


<h3 class="fn">
<a name="bytesAvailable"></a>int QLocalSocket.bytesAvailable (<i>self</i>)</h3>
<p>从重新实现<a href="qiodevice.html#bytesAvailable" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#bytesAvailable">QIODevice.bytesAvailable</a>（ ） 。</p>


<h3 class="fn">
<a name="bytesToWrite"></a>int QLocalSocket.bytesToWrite (<i>self</i>)</h3>
<p>从重新实现<a href="qiodevice.html#bytesToWrite" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#bytesToWrite">QIODevice.bytesToWrite</a>（ ） 。</p>


<h3 class="fn">
<a name="canReadLine"></a>bool QLocalSocket.canReadLine (<i>self</i>)</h3>
<p>从重新实现<a href="qiodevice.html#canReadLine" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#canReadLine">QIODevice.canReadLine</a>（ ） 。</p>


<h3 class="fn">
<a name="close"></a>QLocalSocket.close (<i>self</i>)</h3>
<p>从重新实现<a href="qiodevice.html#close" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#close">QIODevice.close</a>（ ） 。</p>


<h3 class="fn">
<a name="connectToServer"></a>QLocalSocket.connectToServer (<i>self</i>, QString <i>name</i>, <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qiodevice-openmode.html">QIODevice.OpenMode</a> <i>mode</i> = QIODevice.ReadWrite)</h3>
<p>企图使一个连接<i>name</i>。</p>
<p>该插座是在给定的开<i>openMode</i>并首次进入<a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">ConnectingState</a>。然后，它尝试连接到由查询返回的地址或地址。最后，如果建立了连接，<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>进入<a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">ConnectedState</a>并发出<a href="qlocalsocket.html#connected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connected">connected</a>（ ） 。</p>
<p>在任何点，该插座能发射<a href="qlocalsocket.html#error" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#error">error</a>（）来通知发生了错误。</p>
<p>另请参阅<a href="qlocalsocket.html#state" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#state">state</a>（ ）<a href="qlocalsocket.html#serverName" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#serverName">serverName</a>（）和<a href="qlocalsocket.html#waitForConnected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForConnected">waitForConnected</a>（ ） 。</p>


<h3 class="fn">
<a name="disconnectFromServer"></a>QLocalSocket.disconnectFromServer (<i>self</i>)</h3>
<p>试图关闭套接字。如果有挂起的数据等待写入，<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>将进入<a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">ClosingState</a>并等待，直到所有数据已经写入。最终，将进入<a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">UnconnectedState</a>和发射disconnectedFromServer （）信号。</p>
<p><b>See also</b> <a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（ ） 。</p>


<h3 class="fn">
<a name="error"></a><a href="qlocalsocket.html#LocalSocketError-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketError-enum">LocalSocketError</a> QLocalSocket.error (<i>self</i>)</h3>
<p>返回上次发生错误的类型。</p>
<p><b>See also</b> <a href="qlocalsocket.html#state" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#state">state</a>（）和<a href="qiodevice.html#errorString" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#errorString">errorString</a>（ ） 。</p>


<h3 class="fn">
<a name="flush"></a>bool QLocalSocket.flush (<i>self</i>)</h3>
<p>该函数将尽可能地从内部写缓冲区到插座，而不会阻塞。如果任何数据被写入时，该函数将返回True，否则返回False。</p>
<p>调用此函数，如果你需要<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>立即开始发送缓冲数据。成功写入的字节数依赖于操作系统。在大多数情况下，你不需要调用这个函数，因为<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>将自动开始发送数据，一旦控制返回到事件循环。在不存在的事件循环，调用<a href="qlocalsocket.html#waitForBytesWritten" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForBytesWritten">waitForBytesWritten</a>（ ）来代替。</p>
<p><b>See also</b> <a href="qiodevice.html#write" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#write">write</a>（）和<a href="qlocalsocket.html#waitForBytesWritten" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForBytesWritten">waitForBytesWritten</a>（ ） 。</p>


<h3 class="fn">
<a name="fullServerName"></a>QString QLocalSocket.fullServerName (<i>self</i>)</h3>
<p>返回该套接字被连接到服务器的路径。</p>
<p><b>Note:</b>这个函数的返回值是特定于平台的。</p>
<p><b>See also</b> <a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（）和<a href="qlocalsocket.html#serverName" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#serverName">serverName</a>（ ） 。</p>


<h3 class="fn">
<a name="isSequential"></a>bool QLocalSocket.isSequential (<i>self</i>)</h3>
<p>从重新实现<a href="qiodevice.html#isSequential" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#isSequential">QIODevice.isSequential</a>（ ） 。</p>


<h3 class="fn">
<a name="isValid"></a>bool QLocalSocket.isValid (<i>self</i>)</h3>
<p>返回True如果套接字是有效的，并准备使用，否则返回False 。</p>
<p><b>Note:</b>套接字的状态必须<a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">ConnectedState</a>阅读和写作之前可能发生。</p>
<p><b>See also</b> <a href="qlocalsocket.html#state" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#state">state</a>（）和<a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（ ） 。</p>


<h3 class="fn">
<a name="readBufferSize"></a>int QLocalSocket.readBufferSize (<i>self</i>)</h3>
<p>返回内部读缓冲区的大小。这限制了数据的客户端可以在打电话之前收取的金额<a href="qiodevice.html#read" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#read">read</a>（）或<a href="qiodevice.html#readAll" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#readAll">readAll</a>（ ） 。 0读缓冲区的大小（默认值）意味着缓冲区有没有大小限制，以确保数据不会丢失。</p>
<p><b>See also</b> <a href="qlocalsocket.html#setReadBufferSize" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#setReadBufferSize">setReadBufferSize</a>（）和<a href="qiodevice.html#read" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#read">read</a>（ ） 。</p>


<h3 class="fn">
<a name="readData"></a>str QLocalSocket.readData (<i>self</i>, int <i>maxlen</i>)</h3>
<p>从重新实现<a href="qiodevice.html#readData" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#readData">QIODevice.readData</a>（ ） 。</p>


<h3 class="fn">
<a name="serverName"></a>QString QLocalSocket.serverName (<i>self</i>)</h3>
<p>所指定的返回对端的名称<a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（ ） ，或空<a href="qstring.html" tppabs="http://pyqt4doc.appspot.com/qstring.html">QString</a>如果<a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（ ）没有被调用或者它失败了。</p>
<p><b>See also</b> <a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（）和<a href="qlocalsocket.html#fullServerName" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#fullServerName">fullServerName</a>（ ） 。</p>


<h3 class="fn">
<a name="setReadBufferSize"></a>QLocalSocket.setReadBufferSize (<i>self</i>, int <i>size</i>)</h3>
<p>载的大小<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>的内部读缓冲区是<i>size</i>字节。</p>
<p>如果缓冲区大小被限制为一定的大小，<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>将不缓存数据超过此大小。特殊情况下，为0的缓冲区大小意味着读缓存器是无限的，所有输入的数据进行缓冲。这是默认的。</p>
<p>此选项很有用，如果你只在读取特定时间点的数据（例如，在实时流应用程序），或者如果你想保护你的插座对接收的数据过多，最终可能导致应用程序用完内存。</p>
<p><b>See also</b> <a href="qlocalsocket.html#readBufferSize" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#readBufferSize">readBufferSize</a>（）和<a href="qiodevice.html#read" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#read">read</a>（ ） 。</p>


<h3 class="fn">
<a name="setSocketDescriptor"></a>bool QLocalSocket.setSocketDescriptor (<i>self</i>, sip.voidptr <i>socketDescriptor</i>, <a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">LocalSocketState</a> <i>state</i> = QLocalSocket.ConnectedState, <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qiodevice-openmode.html">QIODevice.OpenMode</a> <i>mode</i> = QIODevice.ReadWrite)</h3>
<p>初始化<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>与本地套接字描述符<i>socketDescriptor</i>。返回True如果socketDescriptor被接受为有效的套接字描述符，否则返回False 。该插座是由指定的模式打开<i>openMode</i>，并进入由指定的套接字状态<i>socketState</i>。</p>
<p><b>Note:</b>这是不可能的初始化两个本地套接字使用相同的本地套接字描述符。</p>
<p><b>See also</b> <a href="qlocalsocket.html#socketDescriptor" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#socketDescriptor">socketDescriptor</a>（ ）<a href="qlocalsocket.html#state" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#state">state</a>（）和<a href="qiodevice.html#openMode" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#openMode">openMode</a>（ ） 。</p>


<h3 class="fn">
<a name="socketDescriptor"></a>sip.voidptr QLocalSocket.socketDescriptor (<i>self</i>)</h3>
<p>返回的本地套接字描述符<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>如果对象是可用的，否则返回-1 。</p>
<p>套接字描述符时，无法使用<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>在<a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">UnconnectedState</a>。</p>
<p><b>See also</b> <a href="qlocalsocket.html#setSocketDescriptor" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#setSocketDescriptor">setSocketDescriptor</a>（ ） 。</p>


<h3 class="fn">
<a name="state"></a><a href="qlocalsocket.html#LocalSocketState-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketState-enum">LocalSocketState</a> QLocalSocket.state (<i>self</i>)</h3>
<p>返回套接字的状态。</p>
<p><b>See also</b> <a href="qlocalsocket.html#error" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#error">error</a>（ ） 。</p>


<h3 class="fn">
<a name="waitForBytesWritten"></a>bool QLocalSocket.waitForBytesWritten (<i>self</i>, int <i>msecs</i> = 30000)</h3>
<p>从重新实现<a href="qiodevice.html#waitForBytesWritten" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#waitForBytesWritten">QIODevice.waitForBytesWritten</a>（ ） 。</p>


<h3 class="fn">
<a name="waitForConnected"></a>bool QLocalSocket.waitForConnected (<i>self</i>, int <i>msecs</i> = 30000)</h3>
<p>等待，直到套接字连接，高达<i>msecs</i>毫秒。如果连接已经建立，该函数将返回True，否则返回False 。当它返回False的情况下，你可以调用<a href="qlocalsocket.html#error" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#error">error</a>（）来确定错误的原因。</p>
<p>下面的例子最多等待1秒，以建立连接：</p>
<pre class="cpp">
 socket<span class="operator">-</span><span class="operator">&gt;</span><a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>(<span class="string">"market"</span>);
 <span class="keyword">if</span> (socket<span class="operator">-</span><span class="operator">&gt;</span>waitForConnected(<span class="number">1000</span>))
     <a href="index.htm#qDebug" tppabs="http://pyqt4doc.appspot.com/qtcore.html#qDebug">qDebug</a>(<span class="string">"Connected!"</span>);
</pre>
<p>If <i>msecs</i>为-1 ，此功能将不会超时。</p>
<p><b>See also</b> <a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（）和<a href="qlocalsocket.html#connected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connected">connected</a>（ ） 。</p>


<h3 class="fn">
<a name="waitForDisconnected"></a>bool QLocalSocket.waitForDisconnected (<i>self</i>, int <i>msecs</i> = 30000)</h3>
<p>等待，直到插座断开连接，直至<i>msecs</i>毫秒。如果连接已经断开，则该函数返回True，否则返回False 。当它返回False的情况下，你可以调用<a href="qlocalsocket.html#error" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#error">error</a>（）来确定错误的原因。</p>
<p>下面的例子最多等待一秒钟的连接被关闭：</p>
<pre class="cpp">
 socket<span class="operator">-</span><span class="operator">&gt;</span><a href="qlocalsocket.html#disconnectFromServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#disconnectFromServer">disconnectFromServer</a>();
 <span class="keyword">if</span> (socket<span class="operator">-</span><span class="operator">&gt;</span>waitForDisconnected(<span class="number">1000</span>))
     <a href="index.htm#qDebug" tppabs="http://pyqt4doc.appspot.com/qtcore.html#qDebug">qDebug</a>(<span class="string">"Disconnected!"</span>);
</pre>
<p>If <i>msecs</i>为-1 ，此功能将不会超时。</p>
<p><b>See also</b> <a href="qlocalsocket.html#disconnectFromServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#disconnectFromServer">disconnectFromServer</a>（）和<a href="qlocalsocket.html#close" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#close">close</a>（ ） 。</p>


<h3 class="fn">
<a name="waitForReadyRead"></a>bool QLocalSocket.waitForReadyRead (<i>self</i>, int <i>msecs</i> = 30000)</h3>
<p>从重新实现<a href="qiodevice.html#waitForReadyRead" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#waitForReadyRead">QIODevice.waitForReadyRead</a>（ ） 。</p>
<p>此功能块，直到数据可供读取和<a href="qiodevice.html#readyRead" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#readyRead">readyRead()</a>信号已经发出。之后，该函数将超时<i>msecs</i>毫秒，默认的超时时间为30000毫秒。</p>
<p>如果数据可供读取该函数返回True ，否则返回False （如果发生错误或者操作超时） 。</p>
<p><b>See also</b> <a href="qlocalsocket.html#waitForBytesWritten" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#waitForBytesWritten">waitForBytesWritten</a>（ ） 。</p>


<h3 class="fn">
<a name="writeData"></a>int QLocalSocket.writeData (<i>self</i>, str)</h3>
<p>从重新实现<a href="qiodevice.html#writeData" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#writeData">QIODevice.writeData</a>（ ） 。</p>
<hr>
<h2>Qt Signal Documentation</h2>
<h3 class="fn">
<a name="connected"></a>void connected ()</h3>
<p>这是该信号的默认超载。</p>
<p>之后此信号被发射<a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（ ）被调用，并连接已成功建立。</p>
<p><b>See also</b> <a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（）和<a href="qlocalsocket.html#disconnected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#disconnected">disconnected</a>（ ） 。</p>


<h3 class="fn">
<a name="disconnected"></a>void disconnected ()</h3>
<p>这是该信号的默认超载。</p>
<p>当插座已断开这个信号被发射。</p>
<p><b>See also</b> <a href="qlocalsocket.html#connectToServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connectToServer">connectToServer</a>（ ）<a href="qlocalsocket.html#disconnectFromServer" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#disconnectFromServer">disconnectFromServer</a>（ ）<a href="qlocalsocket.html#abort" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#abort">abort</a>（）和<a href="qlocalsocket.html#connected" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#connected">connected</a>（ ） 。</p>


<h3 class="fn">
<a name="error-2"></a>void error (QLocalSocket::LocalSocketError)</h3>
<p>这是该信号的默认超载。</p>
<p>这个信号被发射时发生错误之后。该<i>socketError</i>参数描述发生错误的类型。</p>
<p><a href="qlocalsocket.html#LocalSocketError-enum" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#LocalSocketError-enum">QLocalSocket.LocalSocketError</a>是不是注册的元类型，所以排队的连接，你将不得不用它注册<a href="qmetatype.html#Q_DECLARE_METATYPE" tppabs="http://pyqt4doc.appspot.com/qmetatype.html#Q_DECLARE_METATYPE">Q_DECLARE_METATYPE</a>（）和<a href="qmetatype.html#qRegisterMetaType" tppabs="http://pyqt4doc.appspot.com/qmetatype.html#qRegisterMetaType">qRegisterMetaType</a>（ ） 。</p>
<p><b>See also</b> <a href="qlocalsocket.html#error" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#error">error</a>（ ）<a href="qiodevice.html#errorString" tppabs="http://pyqt4doc.appspot.com/qiodevice.html#errorString">errorString</a>（）和<a href="index.htm" tppabs="http://pyqt4doc.appspot.com/custom-types.html">Creating Custom Qt Types</a>。</p>


<h3 class="fn">
<a name="stateChanged"></a>void stateChanged (QLocalSocket::LocalSocketState)</h3>
<p>这是该信号的默认超载。</p>
<p>这个信号被发射时<a href="qlocalsocket.html" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html">QLocalSocket</a>的状态变化。该<i>socketState</i>参数是新的状态。</p>
<p>QLocalSocket.SocketState是不是注册的元类型，所以排队的连接，你将不得不用它注册<a href="qmetatype.html#Q_DECLARE_METATYPE" tppabs="http://pyqt4doc.appspot.com/qmetatype.html#Q_DECLARE_METATYPE">Q_DECLARE_METATYPE</a>（）和<a href="qmetatype.html#qRegisterMetaType" tppabs="http://pyqt4doc.appspot.com/qmetatype.html#qRegisterMetaType">qRegisterMetaType</a>（ ） 。</p>
<p><b>See also</b> <a href="qlocalsocket.html#state" tppabs="http://pyqt4doc.appspot.com/qlocalsocket.html#state">state</a>（）和<a href="index.htm" tppabs="http://pyqt4doc.appspot.com/custom-types.html">Creating Custom Qt Types</a>。</p>


<address>
<div class="ad">
<br> 
<br><hr>
</div>
<div align="center"><table border="0" cellspacing="0" width="100%"><tr class="address">
<td align="left" width="25%">PyQt 4.10.3 for X11</td>
<td align="center" width="50%">Copyright © <a href="http://www.riverbankcomputing.com/">Riverbank Computing Ltd</a> and <a href="http://www.qtsoftware.com/">Nokia</a> 2012</td>
<td align="right" width="25%">Qt 4.8.5</td>
</tr></table></div>
</address>
</body>
</html>