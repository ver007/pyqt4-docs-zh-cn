<html>
<head>
<title>QSqlQueryModel Class Reference</title>
<style>h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
td.postheader { font-family: sans-serif }
tr.address { font-family: sans-serif }
body { background: #ffffff; color: black; }
</style>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr></tr>
<td align="left" valign="top" width="32"><img align="left" border="0" height="32" src="images/rb-logo.png" tppabs="http://pyqt4doc.appspot.com/images/rb-logo.png" width="32"></td>
<td width="1">  </td>
<td class="postheader" valign="center">
<a href="index.html" tppabs="http://pyqt4doc.appspot.com/index.html"><font color="#004faf">Home</font></a> · <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/classes.html"><font color="#004faf">All Classes</font></a> · <a href="index.htm" tppabs="http://pyqt4doc.appspot.com/modules.html"><font color="#004faf">Modules</font></a>  · <a href="qss.html"><font color="#004faf">QSS HELP</font></a>  · <a href="qtqss.html"><font color="#004faf">QSS 案例</font></a> · <a href="HTTP://VER007.COM"><font color="#004faf">VER007 HOME</font></a> 
</td>
</table>
<h1 align="center">QSqlQueryModel Class Reference<br><sup><sup>[<a href="index.htm" tppabs="http://pyqt4doc.appspot.com/qtsql.html">QtSql</a> module]</sup></sup>
</h1>
<p>该QSqlQueryModel类为SQL结果集的只读数据模型。<a href="#details">More...</a></p>

<p>继承<a href="qabstracttablemodel.html" tppabs="http://pyqt4doc.appspot.com/qabstracttablemodel.html">QAbstractTableModel</a>。</p>
<p>通过继承<a href="qsqltablemodel.html" tppabs="http://pyqt4doc.appspot.com/qsqltablemodel.html">QSqlTableModel</a>。</p>
<h3>Methods</h3>
<ul>
<li>
<div class="fn"></div>
<b><a href="qsqlquerymodel.html#QSqlQueryModel" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#QSqlQueryModel">__init__</a></b> (<i>self</i>, QObject <i>parent</i> = None)</li>
<li>
<div class="fn"></div>bool <b><a href="qsqlquerymodel.html#canFetchMore" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#canFetchMore">canFetchMore</a></b> (<i>self</i>, QModelIndex <i>parent</i> = QModelIndex())</li>
<li>
<div class="fn"></div>
<b><a href="qsqlquerymodel.html#clear" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#clear">clear</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>int <b><a href="qsqlquerymodel.html#columnCount" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#columnCount">columnCount</a></b> (<i>self</i>, QModelIndex <i>parent</i> = QModelIndex())</li>
<li>
<div class="fn"></div>QVariant <b><a href="qsqlquerymodel.html#data" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#data">data</a></b> (<i>self</i>, QModelIndex <i>item</i>, int <i>role</i> = Qt.DisplayRole)</li>
<li>
<div class="fn"></div>
<b><a href="qsqlquerymodel.html#fetchMore" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#fetchMore">fetchMore</a></b> (<i>self</i>, QModelIndex <i>parent</i> = QModelIndex())</li>
<li>
<div class="fn"></div>QVariant <b><a href="qsqlquerymodel.html#headerData" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#headerData">headerData</a></b> (<i>self</i>, int <i>section</i>, Qt.Orientation <i>orientation</i>, int <i>role</i> = Qt.DisplayRole)</li>
<li>
<div class="fn"></div>QModelIndex <b><a href="qsqlquerymodel.html#indexInQuery" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#indexInQuery">indexInQuery</a></b> (<i>self</i>, QModelIndex <i>item</i>)</li>
<li>
<div class="fn"></div>bool <b><a href="qsqlquerymodel.html#insertColumns" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#insertColumns">insertColumns</a></b> (<i>self</i>, int <i>column</i>, int <i>count</i>, QModelIndex <i>parent</i> = QModelIndex())</li>
<li>
<div class="fn"></div>QSqlError <b><a href="qsqlquerymodel.html#lastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#lastError">lastError</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>QSqlQuery <b><a href="qsqlquerymodel.html#query" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#query">query</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qsqlquerymodel.html#queryChange" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#queryChange">queryChange</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>QSqlRecord <b><a href="qsqlquerymodel.html#record" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#record">record</a></b> (<i>self</i>, int <i>row</i>)</li>
<li>
<div class="fn"></div>QSqlRecord <b><a href="qsqlquerymodel.html#record-2" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#record-2">record</a></b> (<i>self</i>)</li>
<li>
<div class="fn"></div>bool <b><a href="qsqlquerymodel.html#removeColumns" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#removeColumns">removeColumns</a></b> (<i>self</i>, int <i>column</i>, int <i>count</i>, QModelIndex <i>parent</i> = QModelIndex())</li>
<li>
<div class="fn"></div>int <b><a href="qsqlquerymodel.html#rowCount" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#rowCount">rowCount</a></b> (<i>self</i>, QModelIndex <i>parent</i> = QModelIndex())</li>
<li>
<div class="fn"></div>bool <b><a href="qsqlquerymodel.html#setHeaderData" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setHeaderData">setHeaderData</a></b> (<i>self</i>, int <i>section</i>, Qt.Orientation <i>orientation</i>, QVariant <i>value</i>, int <i>role</i> = Qt.EditRole)</li>
<li>
<div class="fn"></div>
<b><a href="qsqlquerymodel.html#setLastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setLastError">setLastError</a></b> (<i>self</i>, QSqlError <i>error</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qsqlquerymodel.html#setQuery" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setQuery">setQuery</a></b> (<i>self</i>, QSqlQuery <i>query</i>)</li>
<li>
<div class="fn"></div>
<b><a href="qsqlquerymodel.html#setQuery-2" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setQuery-2">setQuery</a></b> (<i>self</i>, QString <i>query</i>, QSqlDatabase <i>db</i> = QSqlDatabase())</li>
</ul>
<a name="details"></a><div class="ad">
<hr>
 
</div>
<h2>Detailed Description</h2>
<p>该QSqlQueryModel类为SQL结果集的只读数据模型。</p>
<p>QSqlQueryModel是用于执行SQL语句并遍历结果集一个高层次的接口。它是建立在较低级别的顶<a href="qsqlquery.html" tppabs="http://pyqt4doc.appspot.com/qsqlquery.html">QSqlQuery</a>并且可以用来提供数据可以看到类如<a href="qtableview.html" tppabs="http://pyqt4doc.appspot.com/qtableview.html">QTableView</a>。例如：</p>
<pre class="cpp">
     <span class="type">QSqlQueryModel</span> <span class="operator">*</span>model <span class="operator">=</span> <span class="keyword">new</span> <span class="type">QSqlQueryModel</span>;
     model<span class="operator">-</span><span class="operator">&gt;</span>setQuery(<span class="string">"SELECT name, salary FROM employee"</span>);
     model<span class="operator">-</span><span class="operator">&gt;</span>setHeaderData(<span class="number">0</span><span class="operator">,</span> <span class="type"><a href="qt.html" tppabs="http://pyqt4doc.appspot.com/qt.html">Qt</a></span><span class="operator">.</span>Horizontal<span class="operator">,</span> tr(<span class="string">"Name"</span>));
     model<span class="operator">-</span><span class="operator">&gt;</span>setHeaderData(<span class="number">1</span><span class="operator">,</span> <span class="type"><a href="qt.html" tppabs="http://pyqt4doc.appspot.com/qt.html">Qt</a></span><span class="operator">.</span>Horizontal<span class="operator">,</span> tr(<span class="string">"Salary"</span>));

     <span class="type"><a href="qtableview.html" tppabs="http://pyqt4doc.appspot.com/qtableview.html">QTableView</a></span> <span class="operator">*</span>view <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qtableview.html" tppabs="http://pyqt4doc.appspot.com/qtableview.html">QTableView</a></span>;
     view<span class="operator">-</span><span class="operator">&gt;</span>setModel(model);
     view<span class="operator">-</span><span class="operator">&gt;</span>show();
</pre>
<p>我们建立模型的查询，然后我们设置视图中的标题显示的标籤。</p>
<p>QSqlQueryModel也可以用来访问数据库编程，不绑定到一个视图：</p>
<pre class="cpp">
     <span class="type">QSqlQueryModel</span> model;
     model<span class="operator">.</span>setQuery(<span class="string">"SELECT * FROM employee"</span>);
     <span class="type">int</span> salary <span class="operator">=</span> model<span class="operator">.</span>record(<span class="number">4</span>)<span class="operator">.</span>value(<span class="string">"salary"</span>)<span class="operator">.</span>toInt();
</pre>
<p>上面的代码片段中提取<tt>salary</tt>从查询的结果集记录4场<tt>SELECT * from
employee</tt>。假设<tt>salary</tt>是第2列，我们可以重写最后一行，如下所示：</p>
<pre class="cpp">
     <span class="type">int</span> salary <span class="operator">=</span> model<span class="operator">.</span>data(model<span class="operator">.</span>index(<span class="number">4</span><span class="operator">,</span> <span class="number">2</span>))<span class="operator">.</span>toInt();
</pre>
<p>该模型是只读的默认。为了使读写，你必须继承它，并重新实现<a href="qabstractitemmodel.html#setData" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#setData">setData</a>（）和<a href="qabstractitemmodel.html#flags" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#flags">flags</a>（ ） 。另一个选项是使用<a href="qsqltablemodel.html" tppabs="http://pyqt4doc.appspot.com/qsqltablemodel.html">QSqlTableModel</a>，它提供了基于单个数据库表中的读 - 写的模式。</p>
<p>该<a href="index.htm" tppabs="http://pyqt4doc.appspot.com/sql-querymodel.html">sql/querymodel</a>示例说明了如何使用QSqlQueryModel以显示查询的结果。它也显示了如何继承QSqlQueryModel显示给用户之前自定义数据的内容，以及如何创建基于QSqlQueryModel一个读写模式。</p>
<p>如果数据库没有返回在查询中选择的行数，该模型将逐步获取行。看<a href="qsqlquerymodel.html#fetchMore" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#fetchMore">fetchMore</a>（ ）获取更多信息。</p>
<hr>
<h2>Method Documentation</h2>
<h3 class="fn">
<a name="QSqlQueryModel"></a>QSqlQueryModel.__init__ (<i>self</i>, <a href="qobject.html" tppabs="http://pyqt4doc.appspot.com/qobject.html">QObject</a> <i>parent</i> = None)</h3>
<p>该<i>parent</i>的说法，如果不是没有，原因<i>self</i>通过Qt的，而不是PyQt的拥有。</p>
<p>创建一个空的<a href="qsqlquerymodel.html" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html">QSqlQueryModel</a>用给定的<i>parent</i>。</p>


<h3 class="fn">
<a name="canFetchMore"></a>bool QSqlQueryModel.canFetchMore (<i>self</i>, <a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> <i>parent</i> = QModelIndex())</h3>
<p>从重新实现<a href="qabstractitemmodel.html#canFetchMore" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#canFetchMore">QAbstractItemModel.canFetchMore</a>（ ） 。</p>
<p>返回True如果有可能从数据库中读取更多的行。这只会影响数据库不报到查询的尺寸（见<a href="qsqldriver.html#hasFeature" tppabs="http://pyqt4doc.appspot.com/qsqldriver.html#hasFeature">QSqlDriver.hasFeature</a>（））。</p>
<p><i>parent</i>应始终为无效<a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a>。</p>
<p>这个函数是Qt 4.1中引入。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#fetchMore" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#fetchMore">fetchMore</a>（ ） 。</p>


<h3 class="fn">
<a name="clear"></a>QSqlQueryModel.clear (<i>self</i>)</h3>
<p>清除模型，并释放任何收购资源。</p>


<h3 class="fn">
<a name="columnCount"></a>int QSqlQueryModel.columnCount (<i>self</i>, <a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> <i>parent</i> = QModelIndex())</h3>
<p>从重新实现<a href="qabstractitemmodel.html#columnCount" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#columnCount">QAbstractItemModel.columnCount</a>（ ） 。</p>


<h3 class="fn">
<a name="data"></a>QVariant QSqlQueryModel.data (<i>self</i>, <a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> <i>item</i>, int <i>role</i> = Qt.DisplayRole)</h3>
<p>从重新实现<a href="qabstractitemmodel.html#data" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#data">QAbstractItemModel.data</a>（ ） 。</p>
<p>返回值指定<i>item</i>和<i>role</i>。</p>
<p>If <i>item</i>超出范围，或者如果发生错误，无效的<a href="qvariant.html" tppabs="http://pyqt4doc.appspot.com/qvariant.html">QVariant</a>返回。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#lastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#lastError">lastError</a>（ ） 。</p>


<h3 class="fn">
<a name="fetchMore"></a>QSqlQueryModel.fetchMore (<i>self</i>, <a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> <i>parent</i> = QModelIndex())</h3>
<p>从重新实现<a href="qabstractitemmodel.html#fetchMore" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#fetchMore">QAbstractItemModel.fetchMore</a>（ ） 。</p>
<p>获取从数据库中多个行。这只会影响数据库不报到查询的尺寸（见<a href="qsqldriver.html#hasFeature" tppabs="http://pyqt4doc.appspot.com/qsqldriver.html#hasFeature">QSqlDriver.hasFeature</a>（））。</p>
<p>要强制整个结果集的抓取，你可以使用以下命令：</p>
<pre class="cpp">
 <span class="keyword">while</span> (myModel<span class="operator">-</span><span class="operator">&gt;</span>canFetchMore())
     myModel<span class="operator">-</span><span class="operator">&gt;</span>fetchMore();
</pre>
<p><i>parent</i>应始终为无效<a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a>。</p>
<p>这个函数是Qt 4.1中引入。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#canFetchMore" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#canFetchMore">canFetchMore</a>（ ） 。</p>


<h3 class="fn">
<a name="headerData"></a>QVariant QSqlQueryModel.headerData (<i>self</i>, int <i>section</i>, <a href="qt.html#Orientation-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#Orientation-enum">Qt.Orientation</a> <i>orientation</i>, int <i>role</i> = Qt.DisplayRole)</h3>
<p>从重新实现<a href="qabstractitemmodel.html#headerData" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#headerData">QAbstractItemModel.headerData</a>（ ） 。</p>
<p>返回头数据为给定的<i>role</i>在<i>section</i>用指定的标头<i>orientation</i>。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#setHeaderData" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setHeaderData">setHeaderData</a>（ ） 。</p>


<h3 class="fn">
<a name="indexInQuery"></a><a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> QSqlQueryModel.indexInQuery (<i>self</i>, <a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> <i>item</i>)</h3>
<p>返回在给定的数据库中的结果集的值的索引<i>item</i>在模型中。</p>
<p>返回值是相同的<i>item</i>如果已经插入任何行或列，删除或移动了。</p>
<p>返回一个无效的模型索引，如果<i>item</i>超出范围或<i>item</i>不指向结果集中的值。</p>
<p><b>See also</b> <a href="qsqltablemodel.html#indexInQuery" tppabs="http://pyqt4doc.appspot.com/qsqltablemodel.html#indexInQuery">QSqlTableModel.indexInQuery</a>（ ）<a href="qsqlquerymodel.html#insertColumns" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#insertColumns">insertColumns</a>（）和<a href="qsqlquerymodel.html#removeColumns" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#removeColumns">removeColumns</a>（ ） 。</p>


<h3 class="fn">
<a name="insertColumns"></a>bool QSqlQueryModel.insertColumns (<i>self</i>, int <i>column</i>, int <i>count</i>, <a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> <i>parent</i> = QModelIndex())</h3>
<p>从重新实现<a href="qabstractitemmodel.html#insertColumns" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#insertColumns">QAbstractItemModel.insertColumns</a>（ ） 。</p>
<p>Inserts <i>count</i>列到模型的位置<i>column</i>。该<i>parent</i>参数必须始终是一个无效的<a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a>，因为该模型不支持父子关系。</p>
<p>返回True如果<i>column</i>是在一定范围内，否则返回False 。</p>
<p>默认情况下，插入的列是空的。为了填补他们的数据，重新实现<a href="qsqlquerymodel.html#data" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#data">data</a>（ ）并单独处理任何插入的列：</p>
<pre class="cpp">
 <span class="type"><a href="qvariant.html" tppabs="http://pyqt4doc.appspot.com/qvariant.html">QVariant</a></span> MyModel<span class="operator">.</span><a href="qsqlquerymodel.html#data" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#data">data</a>(<span class="keyword">const</span> <span class="type"><a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a></span> <span class="operator">&amp;</span>item<span class="operator">,</span> <span class="type">int</span> role) <span class="keyword">const</span>
 {
     <span class="keyword">if</span> (item<span class="operator">.</span>column() <span class="operator">=</span><span class="operator">=</span> m_specialColumnNo) {
         <span class="comment">// handle column separately</span>
     }
     <span class="keyword">return</span> <span class="type"><a href="qsqlquerymodel.html" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html">QSqlQueryModel</a></span><span class="operator">.</span>data(item<span class="operator">,</span> role);
 }
</pre>
<p><b>See also</b> <a href="qsqlquerymodel.html#removeColumns" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#removeColumns">removeColumns</a>（ ） 。</p>


<h3 class="fn">
<a name="lastError"></a><a href="qsqlerror.html" tppabs="http://pyqt4doc.appspot.com/qsqlerror.html">QSqlError</a> QSqlQueryModel.lastError (<i>self</i>)</h3>
<p>返回有关数据库上发生的最后一个错误信息。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#setLastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setLastError">setLastError</a>（）和<a href="qsqlquerymodel.html#query" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#query">query</a>（ ） 。</p>


<h3 class="fn">
<a name="query"></a><a href="qsqlquery.html" tppabs="http://pyqt4doc.appspot.com/qsqlquery.html">QSqlQuery</a> QSqlQueryModel.query (<i>self</i>)</h3>
<p>返回<a href="qsqlquery.html" tppabs="http://pyqt4doc.appspot.com/qsqlquery.html">QSqlQuery</a>与此模型相关。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#setQuery" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setQuery">setQuery</a>（ ） 。</p>


<h3 class="fn">
<a name="queryChange"></a>QSqlQueryModel.queryChange (<i>self</i>)</h3>
<p>这个虚函数被调用时查询改变。默认实现不执行任何操作。</p>
<p><a href="qsqlquerymodel.html#query" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#query">query</a>（ ）返回新的查询。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#query" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#query">query</a>（）和<a href="qsqlquerymodel.html#setQuery" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setQuery">setQuery</a>（ ） 。</p>


<h3 class="fn">
<a name="record"></a><a href="qsqlrecord.html" tppabs="http://pyqt4doc.appspot.com/qsqlrecord.html">QSqlRecord</a> QSqlQueryModel.record (<i>self</i>, int <i>row</i>)</h3>
<p>返回有关当前查询的字段包含记录信息。如果<i>row</i>是一个有效的行的索引，该记录将被填入该行的值。</p>
<p>如果模型没有被初始化，一个空的记录将被退回。</p>
<p><b>See also</b> <a href="qsqlrecord.html#isEmpty" tppabs="http://pyqt4doc.appspot.com/qsqlrecord.html#isEmpty">QSqlRecord.isEmpty</a>（ ） 。</p>


<h3 class="fn">
<a name="record-2"></a><a href="qsqlrecord.html" tppabs="http://pyqt4doc.appspot.com/qsqlrecord.html">QSqlRecord</a> QSqlQueryModel.record (<i>self</i>)</h3>
<p>这是一个重载函数。</p>
<p>返回有关当前查询的字段为空的记录包含的信息。</p>
<p>如果模型没有被初始化，一个空的记录将被退回。</p>
<p><b>See also</b> <a href="qsqlrecord.html#isEmpty" tppabs="http://pyqt4doc.appspot.com/qsqlrecord.html#isEmpty">QSqlRecord.isEmpty</a>（ ） 。</p>


<h3 class="fn">
<a name="removeColumns"></a>bool QSqlQueryModel.removeColumns (<i>self</i>, int <i>column</i>, int <i>count</i>, <a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> <i>parent</i> = QModelIndex())</h3>
<p>从重新实现<a href="qabstractitemmodel.html#removeColumns" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#removeColumns">QAbstractItemModel.removeColumns</a>（ ） 。</p>
<p>移除<i>count</i>从模型中的列从位置开始<i>column</i>。该<i>parent</i>参数必须始终是一个无效的<a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a>，因为该模型不支持父子关系。</p>
<p>删除列有效地隐藏它们。它不影响相关<a href="qsqlquery.html" tppabs="http://pyqt4doc.appspot.com/qsqlquery.html">QSqlQuery</a>。</p>
<p>返回True如果被删除的列，否则返回False 。</p>


<h3 class="fn">
<a name="rowCount"></a>int QSqlQueryModel.rowCount (<i>self</i>, <a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a> <i>parent</i> = QModelIndex())</h3>
<p>从重新实现<a href="qabstractitemmodel.html#rowCount" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#rowCount">QAbstractItemModel.rowCount</a>（ ） 。</p>
<p>如果数据库支持返回查询的尺寸（见<a href="qsqldriver.html#hasFeature" tppabs="http://pyqt4doc.appspot.com/qsqldriver.html#hasFeature">QSqlDriver.hasFeature</a>（））时，返回的行的当前查询的数量。否则，将返回客户端上当前缓存的行数。</p>
<p><i>parent</i>应始终为无效<a href="qmodelindex.html" tppabs="http://pyqt4doc.appspot.com/qmodelindex.html">QModelIndex</a>。</p>
<p>这个函数是Qt 4.1中引入。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#canFetchMore" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#canFetchMore">canFetchMore</a>（）和<a href="qsqldriver.html#hasFeature" tppabs="http://pyqt4doc.appspot.com/qsqldriver.html#hasFeature">QSqlDriver.hasFeature</a>（ ） 。</p>


<h3 class="fn">
<a name="setHeaderData"></a>bool QSqlQueryModel.setHeaderData (<i>self</i>, int <i>section</i>, <a href="qt.html#Orientation-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#Orientation-enum">Qt.Orientation</a> <i>orientation</i>, QVariant <i>value</i>, int <i>role</i> = Qt.EditRole)</h3>
<p>从重新实现<a href="qabstractitemmodel.html#setHeaderData" tppabs="http://pyqt4doc.appspot.com/qabstractitemmodel.html#setHeaderData">QAbstractItemModel.setHeaderData</a>（ ） 。</p>
<p>设置的标题指定一个水平标题<i>role</i>至<i>value</i>。如果模型被用来在一个视图中显示的数据（例如这是有用的，<a href="qtableview.html" tppabs="http://pyqt4doc.appspot.com/qtableview.html">QTableView</a>） 。</p>
<p>返回True如果<i>orientation</i> is <a href="qt.html#Orientation-enum" tppabs="http://pyqt4doc.appspot.com/qt.html#Orientation-enum">Qt.Horizontal</a>和<i>section</i>指的是一个有效的部分，否则返回False 。</p>
<p>注意，该功能不能用于在数据库中的修改值，因为该模型是只读的。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#headerData" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#headerData">headerData</a>（）和<a href="qsqlquerymodel.html#data" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#data">data</a>（ ） 。</p>


<h3 class="fn">
<a name="setLastError"></a>QSqlQueryModel.setLastError (<i>self</i>, <a href="qsqlerror.html" tppabs="http://pyqt4doc.appspot.com/qsqlerror.html">QSqlError</a> <i>error</i>)</h3>
<p>保护功能，允许派生类对设置在数据库上发生的最后一个错误的值<i>error</i>。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#lastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#lastError">lastError</a>（ ） 。</p>


<h3 class="fn">
<a name="setQuery"></a>QSqlQueryModel.setQuery (<i>self</i>, <a href="qsqlquery.html" tppabs="http://pyqt4doc.appspot.com/qsqlquery.html">QSqlQuery</a> <i>query</i>)</h3>
<p>重置模型，并将数据提供给被给定的<i>query</i>。请注意，查询必须处于活动状态，且不能是isForwardOnly （ ） 。</p>
<p><a href="qsqlquerymodel.html#lastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#lastError">lastError</a>（ ）可以用来获取详细信息，如果有错误设置查询。</p>
<p><b>Note:</b>调用setQuery （ ）将删除任何插入的列。</p>
<p><b>See also</b> <a href="qsqlquerymodel.html#query" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#query">query</a>（ ）<a href="qsqlquery.html#isActive" tppabs="http://pyqt4doc.appspot.com/qsqlquery.html#isActive">QSqlQuery.isActive</a>（ ）<a href="qsqlquery.html#setForwardOnly" tppabs="http://pyqt4doc.appspot.com/qsqlquery.html#setForwardOnly">QSqlQuery.setForwardOnly</a>（）和<a href="qsqlquerymodel.html#lastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#lastError">lastError</a>（ ） 。</p>


<h3 class="fn">
<a name="setQuery-2"></a>QSqlQueryModel.setQuery (<i>self</i>, QString <i>query</i>, <a href="qsqldatabase.html" tppabs="http://pyqt4doc.appspot.com/qsqldatabase.html">QSqlDatabase</a> <i>db</i> = QSqlDatabase())</h3>
<p>这是一个重载函数。</p>
<p>执行查询<i>query</i>对于给定的数据库连接<i>db</i>。如果没有指定的数据库（或无效的数据库） ，则使用默认连接。</p>
<p><a href="qsqlquerymodel.html#lastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#lastError">lastError</a>（ ）可以用来获取详细信息，如果有错误设置查询。</p>
<p>例如：</p>
<pre class="cpp">
 <span class="type"><a href="qsqlquerymodel.html" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html">QSqlQueryModel</a></span> model;
 model<span class="operator">.</span><a href="qsqlquerymodel.html#setQuery" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#setQuery">setQuery</a>(<span class="string">"select * from MyTable"</span>);
 <span class="keyword">if</span> (model<span class="operator">.</span>lastError()<span class="operator">.</span>isValid())
     <a href="index.htm#qDebug" tppabs="http://pyqt4doc.appspot.com/qtcore.html#qDebug">qDebug</a>() <span class="operator">&lt;</span><span class="operator">&lt;</span> model<span class="operator">.</span><a href="qsqlquerymodel.html#lastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#lastError">lastError</a>();
</pre>
<p><b>See also</b> <a href="qsqlquerymodel.html#query" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#query">query</a>（ ）<a href="qsqlquerymodel.html#queryChange" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#queryChange">queryChange</a>（）和<a href="qsqlquerymodel.html#lastError" tppabs="http://pyqt4doc.appspot.com/qsqlquerymodel.html#lastError">lastError</a>（ ） 。</p>
<address>
<div class="ad">
<br> 
<br><hr>
</div>
<div align="center"><table border="0" cellspacing="0" width="100%"><tr class="address">
<td align="left" width="25%">PyQt 4.10.3 for X11</td>
<td align="center" width="50%">Copyright © <a href="http://www.riverbankcomputing.com/">Riverbank Computing Ltd</a> and <a href="http://www.qtsoftware.com/">Nokia</a> 2012</td>
<td align="right" width="25%">Qt 4.8.5</td>
</tr></table></div>
</address>
</body>
</html>